Directive: DIRECTIVE name=DIRECTIVE_NAME args=DirectiveArg+ ;

DirectiveArg: DirectiveBlock | DirectiveArg ;

@pass_inner
DirectiveBlock: DIRECTIVE_BLOCK_START DIRECTIVE_BLOCK DIRECTIVE_BLOCK_STOP ;


terminals

DIRECTIVE: '?' ;

DIRECTIVE_NAME: /\w+/ ;

DIRECTIVE_BLOCK_START: '{{{' ;
DIRECTIVE_BLOCK_STOP: '}}}' ;

DIRECTIVE_ARG: /.+?\b/ ;
DIRECTIVE_BLOCK: /(.|\n)*/ ;
